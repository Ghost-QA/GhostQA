<html>
<body>
    <div class="accordion">
        @{
            if (Model != null)
            {
                var DashboardChartList = Newtonsoft.Json.JsonConvert.DeserializeObject<List<TestSeleniumReport.DTO_s.Dto_DashboardChartDetail>>(Model);

                <div class="col-md-5 card w-25" style="margin-left:10px;">
                    <canvas id="dashBoardChart" width="800" height="400"></canvas>
                    <script>
                        var dates = DashboardChartList.map(item => item.TestRunStartDateTime);
                        var totalTestCases = DashboardChartList.map(item => item.TotalTestCase);
                        var passedTestCases = DashboardChartList.map(item => item.TotalPassedTestCase);
                        var failedTestCases = DashboardChartList.map(item => item.TotalFailedTestCase);



                        var ctx = document.getElementById('dashBoardChart').getContext('2d');
                        var myChart = new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: dates,
                                datasets: [
                                    {
                                        label: 'Total Test Cases',
                                        borderColor: 'blue',
                                        data: totalTestCases,
                                        fill: false
                                    },
                                    {
                                        label: 'Passed Test Cases',
                                        borderColor: 'green',
                                        data: passedTestCases,
                                        fill: false
                                    },
                                    {
                                        label: 'Failed Test Cases',
                                        borderColor: 'red',
                                        data: failedTestCases,
                                        fill: false
                                    }
                                ]
                            },
                            options: {
                                title: {
                                    display: true,
                                    text: 'Test Cases Over Time'
                                },
                                scales: {
                                    xAxes: [{
                                        type: 'time',
                                        time: {
                                            unit: 'day',
                                            displayFormats: {
                                                day: 'MMM DD'
                                            }
                                        },
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Date'
                                        }
                                    }],
                                    yAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Number of Test Cases'
                                        }
                                    }]
                                }
                            }
                        });
                    </script>
                </div>
            }
        }
    </div>
</body>
</html>