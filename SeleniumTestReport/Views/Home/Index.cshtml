<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

<div class="container-fluid">
    <div class="row p-2">
        <div class="col-md-2 d-flex flex-column card border-dark p-2">
            @{
                if (ViewBag.TestSuites != null)
                {
                    foreach (var item in ViewBag.TestSuites)
                    {
                        <button id="testSuites_@item" type="button" class="btn btn-light mb-2 border-secondary card testSuite_Clickable" onclick="GetRunIds(this.innerText)">@item</button>
                    }
                }
            }
        </div>
        <div id="runId" class="col-md-4 card border-dark p-2">
            <div id="testRunListContainer">

            </div>
        </div>
        <div class="col-md-6 card border-dark p-2">
            <div id="testcaseChartContainer">

            </div>
        </div>
    </div>
</div>
<script>
    function GetRunIds(testSuitesName) {
        $.ajax({
            url: '@Url.Action("GetTestRunIDs", "Home")',
            data: { testSuitName: testSuitesName },
            success: function (result) {
                $('#testRunListContainer').html(result);
                $(".testSuite_Clickable").removeClass("bg-warning");
                var selector = '#testSuites_' + testSuitesName;
                $(selector).addClass("bg-warning");
            }
        });
    };

    function GetDestDetails(testSuitesName, runId) {
    $.ajax({
        url: '@Url.Action("GetTestCaseDetails", "Home")',
        data: { testSuitName: testSuitesName, runId : runId },
        success: function (result) {
            $('#testcaseChartContainer').html(result);
            $(".testRunId_Clickable").removeClass("bg-warning");
            var selector = '#runId_' + runId;
            $(selector).addClass("bg-warning");
        }
    });
};

</script>